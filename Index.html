// ---- Variables ----
const slider = document.querySelector('#slider');
let sliderSection = document.querySelectorAll(".slider__section");
let sliderSectionLast = sliderSection[sliderSection.length - 1];

const btnLeft = document.querySelector("#btn--left");
const btnRight = document.querySelector("#btn--right");
const navLink = document.querySelectorAll('.nav__link');

// Insert last slide at beginning
slider.insertAdjacentElement('afterbegin', sliderSectionLast);

// Buttons
btnRight.addEventListener('click', next);
btnLeft.addEventListener('click', prev);

// Auto play every 5 seconds
setInterval(next, 5000);

// Close menu on link click
navLink.forEach(link => {
  link.addEventListener('click', () => {
    document.querySelector('#menu').checked = false;
  });
});

// ---- Functions ----
function next() {
  let sliderSectionFirst = document.querySelectorAll('.slider__section')[0];
  slider.style.marginLeft = '-200vw';
  slider.style.transition = 'all 0.3s';

  setTimeout(function () {
    slider.style.transition = 'none';
    slider.insertAdjacentElement('beforeend', sliderSectionFirst);
    slider.style.marginLeft = '-100vw';
  }, 300);
}

function prev() {
  let sliderSection = document.querySelectorAll('.slider__section');
  let sliderSectionLast = sliderSection[sliderSection.length - 1];
  slider.style.marginLeft = '0';
  slider.style.transition = 'all 0.3s';

  setTimeout(function () {
    slider.style.transition = 'none';
    slider.insertAdjacentElement('afterbegin', sliderSectionLast);
    slider.style.marginLeft = '-100vw';
  }, 300);
}

// Form validation
function validarFormulario() {
  const nombre = document.getElementById("nombre").value.trim();
  const correo = document.getElementById("correo").value.trim();

  if (nombre === "" || correo === "") {
    alert("Please fill out all fields");
    return false;
  }
  return true;
}
